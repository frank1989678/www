<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>修改密码</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body class="yc-body-nofoot">
    <header class="yc-header">
        <div class="yc-header-back">
            <a href="javascript:history.back();">
                <i class="iconfont icon-back"></i>
            </a>
        </div>
        <div class="yc-header-title">修改密码</div>
        <div class="yc-header-right">
            <a class="button" id="jSave" href="#none">完成</a>
        </div>
    </header><!-- /yc-header -->

    <section class="yc-content">
        <div class="yc-form">
            <form action="">
                <div class="item">
                    <label class="txt">会员名</label>
                    <input class="ipt" type="text" value="boyyafee" readonly="" />
                </div>
                <div class="item">
                    <label class="txt">当前密码</label>
                    <input class="ipt" type="password" value="" id="jPwd" placeholder="请填写当前密码" />
                    <span class="error"></span>
                </div>
                <div class="item">
                    <label class="txt">新密码</label>
                    <input class="ipt" type="password" value="" id="jNewPwd" placeholder="请填写新密码，6-20位字母、数字" />
                    <span class="error"></span>
                </div>
                <div class="item">
                    <label class="txt">确认密码</label>
                    <input class="ipt" type="password" value="" id="jRepPwd" placeholder="请再次填写新密码" />
                    <span class="error"></span>
                </div>
            </form>
        </div>
    </section><!-- /yc-content -->



    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/app.js"></script>
    <script>
    !(function(){
        var $oldPwd = $('#jPwd'),
            $newPwd = $('#jNewPwd'),
            $repPwd = $('#jRepPwd');

        function checkPwd() {
            var val = $oldPwd.val();
            if (!val) {
                $oldPwd.next().html('请填写当前密码').show();
            } else {
                $oldPwd.next().html('').hide();
                return true;
            }
            return false;
        }
        function checkNewPwd() {
            var val = $newPwd.val();
            if (!val) {
                $newPwd.next().html('请填写新密码').show();
            } else if (!/[a-z0-9]{6,20}/.test(val)) {
                $newPwd.next().html('密码格式错误，6-20位字母、数字').show();
            } else {
                $newPwd.next().html('').hide();
                return true;
            }
            return false;
        }
        function checkrepPwd() {
            var val = $repPwd.val();
            if (!val) {
                $repPwd.next().html('请填写确认密码').show();
            } else if (val !== $newPwd.val()) {
                $repPwd.next().html('两次输入的密码不一致').show();
            } else {
                $repPwd.next().html('').hide();
                return true;
            }
            return false;
        }
        function checkIpt() {
            if (checkPwd() && checkNewPwd() && checkrepPwd()) {
                return true;
            } 
            return false;
        }
        // 保存
        $('#jSave').on('click', function() {
            return checkIpt();
        });

        $('body').on('click', function() {
            $('.error').html('').hide();
        })
    }(jQuery));
    </script>
</body>
</html>