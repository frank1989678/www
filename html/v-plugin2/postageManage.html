<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>车管所智能管控平台</title>
    <meta name="renderer" content="webkit" />
    <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/plugins/select2/select2.css" />
</head>
<body>

<!-- header begin -->
<div class="header cf">
	<div class="logo">
		<a href="index.html">车管所智能管控平台</a>
	</div>
	<div class="user">
        <span>当前在线人数：<em>15</em></span>
        <i>|</i>
        <span>历史登录人数：<em>430</em></span>
        <i>|</i>
        <span>admin</span>
        <i>|</i>
        <a href="login.html" class="logout"></a>
    </div>
</div>
<!-- header end -->

<div class="side-menu">
    <!-- menu.html -->
</div>

<div class="content">
    <div class="box">
        <div class="box-tit">
            <span class="t1">邮费规费标准管理</span>
        </div>

        <div class="filer">
            <span class="ubtn ubtn-primary" onclick="add()">添加</span>
        </div>
        <div class="table mt15">
            <table class="border tc">
                <caption>邮费标准明细表（单位：元）</caption>
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>业务代号</th>
                        <th>业务名称</th>
                        <th>同城</th>
                        <th>省内</th>
                        <th>省外</th>
                        <th width="140">操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>420</td>
                        <td>湖北</td>
                        <td>湖北</td>
                        <td>湖北</td>
                        <td>湖北</td>
                        <td>
                            <span class="ubtn ubtn-primary" onclick="edit(1)">修改</span>
                            <span class="ubtn ubtn-red" onclick="del(1)">删除</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="filer" style="margin-top:60px;">
            <span class="ubtn ubtn-primary" onclick="add2()">添加</span>
        </div>
        <div class="table mt15">
            <table class="border tc">
                <caption>规费标准明细表（单位：元）</caption>
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>业务代号</th>
                        <th>业务名称</th>
                        <th>子业务</th>
                        <th>规费</th>
                        <th>明细</th>
                        <th width="140">操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>420</td>
                        <td>湖北</td>
                        <td>湖北</td>
                        <td>22</td>
                        <td>44</td>
                        <td>
                            <span class="ubtn ubtn-primary" onclick="edit2(1)">修改</span>
                            <span class="ubtn ubtn-red" onclick="del2(1)">删除</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>

<div class="footer">
	<span>湖北省宏锐慧通信息技术有限公司</span>
</div>



<!-- 新增&编辑 -->
<div class="form layer-form" id="tempForm">
    <div class="ftit">添加</div>
    <form name="form1" id="form1" onsubmit="return false;">
        <div class="row">
            <label class="for">业务代号：</label>
            <input type="text" name="number" class="ipt" autocomplete="off"  />
        </div>
        <div class="row">
            <label class="for">业务名称：</label>
            <input type="text" name="name" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">同城：</label>
            <input type="text" name="city" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">省内：</label>
            <input type="text" name="province" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">省外：</label>
            <input type="text" name="inland" class="ipt" autocomplete="off" />
        </div>
        <div class="buttons">
            <button type="submit" class="ubtn ubtn-primary submit">确定</button>
            <button type="button" class="ubtn ubtn-gray layer-close">取消</button>
        </div>
    </form>
</div>
<!-- end 新增&编辑 -->

<!-- 新增&编辑 -->
<div class="form layer-form" id="tempForm2">
    <div class="ftit">添加</div>
    <form name="form2" id="form2" onsubmit="return false;">
        <div class="row">
            <label class="for">业务代号：</label>
            <input type="text" name="number" class="ipt" autocomplete="off"  />
        </div>
        <div class="row">
            <label class="for">业务名称：</label>
            <input type="text" name="name" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">子业务：</label>
            <input type="text" name="city" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">规费：</label>
            <input type="text" name="province" class="ipt" autocomplete="off" />
        </div>
        <div class="row">
            <label class="for">明细：</label>
            <input type="text" name="inland" class="ipt" autocomplete="off" />
        </div>
        <div class="buttons">
            <button type="submit" class="ubtn ubtn-primary submit">确定</button>
            <button type="button" class="ubtn ubtn-gray layer-close">取消</button>
        </div>
    </form>
</div>
<!-- end 新增&编辑 -->

<!-- 公用 -->
<script src="assets/js/jquery191.js"></script>
<script src="assets/plugins/layer/layer.js"></script>
<script src="assets/js/common.js"></script>
<script src="assets/js/listpage.js"></script>
<script src="assets/plugins/validator/jquery.validator.min.js"></script>

<script>
    $.ajax({
        url: 'menu.html',
        cache: false,
        async: false,
        success: function(res) {
            $('.side-menu').html(res)
        }
    })
</script>

<script>
var pageSetting = {
    name     : "邮费标准",                // 页面名称，用于提示信息
    getURL   : '',      // 编辑信息时回填表单
    delURL   : ''                   // 删除一条数据
}

var pageSetting2 = {
    name     : "规费标准",                // 页面名称，用于提示信息
    getURL   : '',      // 编辑信息时回填表单
    delURL   : ''                   // 删除一条数据
}


// 新增
function add2() {
    var $temp = $('#tempForm2');
    var $form = $temp.find('form');
    $form[0].reset();
    $form.prev('.ftit').html('新增' + pageSetting2.name);
    layer.open({
        area: '560px',
        type: 1,
        title: false,
        content: $temp
    })
}

// 编辑
function edit2(id) {
    var $temp = $('#tempForm');
    var $form = $temp.find('form');
    $form[0].reset();
    $form.prev('.ftit').html(pageSetting2.name + '信息编辑');
    if (id) {
        $.ajax({
            url: pageSetting2.getURL,
            data: {id: id},
            // dataType: 'json',
            cache: false,
            success: function(res) {
                res = {data:{}}
                $form.find('.ipt, .slt').each(function(i, item) {
                    var k = res.data[this.name];
                    if (typeof k === 'undefined' || k == 'undefined') {
                        k = '';
                    }
                    this.value = k;
                })
                layer.open({
                    area: '560px',
                    type: 1,
                    title: false,
                    content: $temp
                })
            }
        })
    }
}

// 删除
function del2(id) {
    fx.confirm('确定要删除该' + pageSetting2.name + '么？', function(k) {
        $.ajax({
            url: pageSetting2.delURL,
            data: {id: id},
            dataType: 'json',
            cache: false,
            success: function(res) {
                if (res.result === "SUCCESS") {
                    $.notify({
                        title: "删除成功",
                        type: "success"
                    })
                    _reload();
                } else {
                    $.notify({
                        title: res.message,
                        type: res.result
                    })
                }
            }
        })
    });
}

$(function() {
    // 提交表单
    $('#form1').validator({
        fields: {
            number: 'required'
        },
        valid: function() {
        }
    });

    // 提交表单
    $('#form2').validator({
        fields: {
            number: 'required'
        },
        valid: function() {
        }
    });
})
</script>
</body>
</html>