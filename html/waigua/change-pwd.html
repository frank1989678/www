<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>修改密码</title>
    <meta name="renderer" content="webkit" />
    <style>
	body,form{margin:0;padding:0;}
	body{background:#fff;color:#5a738e;font:14px/1.5 arial,tahoma;}
	input,button{font-size:100%;outline:none;}
	button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}
	::-ms-clear,::-ms-reveal{display:none;}
	.fa-form{width:400px;padding:20px 40px 0;}
	.fa-form .item{position:relative;margin-bottom:10px;padding-left:120px;}
	.fa-form .txt{position:absolute;top:0;left:0;line-height:32px;color:#999;}
	.fa-form .txt i{margin-right:6px;color:#d74141;vertical-align:middle;font:700 14px tahoma;}
	.fa-form .cnt{position:relative;min-height:32px;line-height:32px;}
	.fa-form .cnt em{margin:0 4px;}
	.fa-form .cnt .ipt{width:100%;height:30px;line-height:30px;padding:0 10px;font-size:12px;border:1px solid #ccc;border-radius:3px;
    -moz-box-sizing: border-box;  
 -webkit-box-sizing: border-box; 
      -o-box-sizing: border-box; 
     -ms-box-sizing: border-box; 
         box-sizing: border-box;}

    .fa-form .cnt .ipt:focus{border-color:#4f90d4;box-shadow:0 0 3px rgba(0,204,203,.3);}
    .fa-form .msg-box{position:absolute;top:2px;right:9px;bottom:2px;color:#d74141;font-size:12px;background:#fff;}
    .fa-form .n-invalid{border-color:#f00;}
	.fa-form .button{padding-top:20px;text-align:center;}
    .fa-form .title{margin-bottom:30px;padding-bottom:10px;line-height:20px;font-size:16px;border-bottom:1px solid #ddd;}
    .fa-form .title:before{content:'';display:inline-block;width:5px;height:20px;margin-right:10px;background:#4f90d4;vertical-align:middle;border-radius:3px;}
    .ubtn{display:inline-block;min-width:80px;line-height:28px;margin:0 5px;padding:0 8px;text-align:center;cursor:pointer;border:1px solid transparent;color:#666;background:#fff;white-space:nowrap;border-radius:3px;}
    .ubtn-primary{color:#fff;background:#01adfa;box-shadow:0 1px 2px rgba(0,0,0,0.4);}
    .ubtn-primary:hover{background:#008AD4;}
    </style>
</head>

<body>
<form id="myform">
    <div class="fa-form fa-form-layer">
        <div class="title">修改密码</div>
        <div class="item">
            <div class="txt">请输入当前密码：</div>
            <div class="cnt">
                <input class="ipt" name="oldpwd" type="password">
            </div>
        </div>
        <div class="item">
            <div class="txt">请输入新的密码：</div>
            <div class="cnt">
                <input class="ipt" name="newpwd" type="password">
            </div>
        </div>
        <div class="item">
            <div class="txt">再次输入新密码：</div>
            <div class="cnt">
                <input class="ipt" name="againpwd" type="password">
            </div>
        </div>
        <div class="button">
            <button type="reset" class="ubtn ubtn-primary ">取消</button>
            <button type="submit" class="ubtn ubtn-primary">保存</button>
        </div>
    </div>
</form>

<script src="assets/js/jquery191.js"></script>
<script src="assets/plugins/validator/jquery.validator.min.js"></script>
<script>
	var _global = {
		init: function() {
			this.checkForm();
		},
		checkForm: function() {
			var self = this;
			$('#myform').validator({
                fields: {
                    oldpwd: '原密码: required',
                    newpwd: '新密码: required',
                    againpwd: '确认密码: required; match(newpwd)'
                },
                valid : function(form) {
                    self.success();
                }
            });

            // 取消按钮
            $('#myform').on('reset', function() {
            	try{
                	window.parent.layer.closeAll();
            	}catch(err) {}
            })
		},
		// 密码修改成功后关闭弹层并提示
		success: function() {
        	try{
            	window.parent.$.notify({
            		type: 'success',
		            title: '密码修改成功'
            	})
        		window.parent.layer.closeAll();
        	}catch(err) {}
		}
	};
	$(function() {
		_global.init();
	})
</script>
</body>
</html>
