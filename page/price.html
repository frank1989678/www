<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title> new document </title>
    <script src="/static/js/jquery191.js"></script>
    <style>
    body {
        font-size: 12px;
        font-family: "宋体";
        line-height: 22px;
        background: #fff;
        color: #2b2b2b
    }
    
    body,
    div,
    form,
    table,
    ul,
    li,
    dl,
    dt,
    dd,
    h1,
    h2,
    h3,
    h4,
    h5,
    p,
    span,
    input,
    textarea,
    select,
    img {
        margin: 0;
        padding: 0
    }
    
    ul,
    li,
    dl,
    dt,
    dd {
        list-style-type: none
    }
    
    img {
        vertical-align: top;
        border: none
    }
    
    input,
    textarea,
    select {
        outline: none
    }
    
    dfn {
        padding: 0 2px;
        font: 12px Arial;
        color: #FE2F05
    }
    
    .price-order {
        float: left;
        margin: 20px
    }
    
    .price-order .by-price {
        float: left;
        height: 24px;
        position: relative;
        width: 126px;
        left: 5px
    }
    
    .price-order .price-range {
        height: 26px;
        position: absolute;
        z-index: 0;
        padding: 2px 5px;
        border: 1px solid #F5F5F5;
        left: 0px;
        top: -3px
    }
    
    .price-order .price-range input {
        background-color: #FFFFFF;
        border: 1px solid #B7B7B7;
        font: 12px/16px Arial;
        padding: 3px 1px;
        text-align: center;
        width: 50px;
        height: 16px
    }
    
    .price-order .price-selected {
        background-color: #F5F5F5;
        border-color: #ccc;
        height: 55px;
        z-index: 10;
        box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.2);
    }
    
    .price-order dt {
        display: none
    }
    
    .price-order .price-range .sub-menu {
        display: none;
        padding: 8px 0 3px 4px;
        position: absolute;
        top: 24px;
        right: 0px
    }
    
    .price-order .price-selected .sub-menu {
        display: block
    }
    
    .price-order .sub-menu .btnSubmit {
        float: left;
        margin-right: 5px;
        width: 40px;
        height: 20px;
        color: #333;
        border: 1px solid #ccc;
        padding: 0;
        font: 12px/19px ''
    }
    .add-subtract{float:left;margin:20px;}
.add-subtract a {float:left;width: 22px;height:22px;font: 12px/22px Arial;cursor:pointer;vertical-align:middle;text-align:center;border:1px solid #a7a6ab;overflow:hidden;}
.add-subtract a:hover {text-decoration:none;}
.add-subtract .exch-num-ipt {float:left;text-align:center;margin:0 2px;vertical-align:middle;border:none;background-color:#ebebeb;background-color: #fff;
        border: 1px solid #a7a6ab;
        font: 12px/16px Arial;
        padding: 3px 1px;
        text-align: center;
        width: 50px;
        height: 16px}
    </style>
</head>

<body>
    <dl class="price-order">
        <dt>价格排序：</dt>
        <dd class="by-price">
            <div id="filterPrice" class="price-range">
                <input type="text" value="" maxlength="6" size="6" id="start_price" autocomplete="off" title="价格过滤最低价格" />-<input type="text" value="" maxlength="6" size="6" id="end_price" autocomplete="off" title="价格过滤最低价格" />
                <p class="sub-menu">
                    <input type="button" class="cssbtn btnSubmit" value="确定" />
                </p>
            </div>
        </dd>
    </dl>

    <div class="add-subtract">
        <a class="exch-decrease">-</a>
        <input type="text" name="quantity" value="1" maxlength="4" class="exch-num-ipt">
        <a class="exch-increase">+</a>
    </div>
</body>
<script type="text/javascript">
<!--
if ($("#filterPrice").length == 1) {
    $("#filterPrice input:text").focus(function(e) {
        $("#filterPrice").addClass("price-selected")
    }).keyup(function() {
        var E = this.value;
        if (!/^\d+\.?\d*$/.test(E)) {
            E = Math.abs(parseFloat(E));
            this.value = isNaN(E) ? "" : E
        }
    })
    
    $(document).click(function(e) {
        if (e.target.id == "start_price" || e.target.id == "end_price") {
            return
        } else {
            $("#filterPrice").removeClass("price-selected");
        }
    });
}

$('body').on('change', '.text', function() {
        var t = $(this)
          , n = $.trim(t.val());

        return n = Number(n),
        isNaN(n) ? void t.val(0) : (n = n.toFixed(2).toString(),
        n.length > 7 && (n = n.slice(n.length - 7)),
        void t.val(Number(n).toFixed(2)));
    })


var setValue = function(ele, val) {
    val = (!isNaN(val = parseInt(val, 10)) && val) > 0 ? val : 1;
    ele.value = val;
}
$(".add-subtract").on("keyup change", ".exch-num-ipt", function(e) {
    var val = this.value;
    if (val || e.type === "change") {
        setValue(this, val);
    }
});
//增加
$(".add-subtract").on("click",".exch-increase",function(){
    var t=$(this).parent().find('.exch-num-ipt');
    setValue(t.get(0), parseInt(t.val())+1);
});
//减少
$(".add-subtract").on("click",".exch-decrease",function(){
    var t=$(this).parent().find('.exch-num-ipt');
    setValue(t.get(0), parseInt(t.val())-1);
});

//-->
</script>

</html>
